"use strict";(self.webpackChunkpwa_media_player=self.webpackChunkpwa_media_player||[]).push([[367],{6367:(R,m,o)=>{o.r(m),o.d(m,{MusicModule:()=>j});var g=o(6814),f=o(3391),l=o(9500),d=o(5861),t=o(9467),O=o(5487),_=o(8407),u=o(9191);let y=(()=>{class e{constructor(){this.musicSvc=(0,t.f3M)(u.J),this.alertSvc=(0,t.f3M)(O.c),this.#t=(0,t.f3M)(l.gz),this.#n=(0,t.f3M)(l.F0),this.viewByPage="View By"}#t;#n;onAddFolderBtnClick(){var n=this;return(0,d.Z)(function*(){n.musicSvc.addNewFolder().catch(s=>{s instanceof _.g&&n.alertSvc.showAlert({message:s.message})})})()}onAddFilesBtnClick(){var n=this;return(0,d.Z)(function*(){n.musicSvc.addNewFiles("audio").catch(s=>{s instanceof _.g&&n.alertSvc.showAlert({message:s.message})})})()}ngOnInit(){}onTabClick(n){this.#n.navigateByUrl("music/"+n)}pickAFile(n){"file"==n?this.onAddFilesBtnClick():"folder"==n&&this.onAddFolderBtnClick()}static#e=this.\u0275fac=function(s){return new(s||e)};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-music-home"]],decls:29,vars:0,consts:[[1,"page-wrapper"],[1,"music-toolbar"],[1,"toolbar-title"],["activeid","songs",1,"tabs"],["id","songs",3,"click"],["id","albums",3,"click"],["id","artists",3,"click"],["id","folders",3,"click"],["id","folders",1,"d-none"],["id","songs",1,"d-none"],["id","albums",1,"d-none"],["id","artists",1,"d-none"],["type","button",1,"add-folder-btn",3,"click"],["slot","start","src","assets/icons/add_folder.svg"],["type","button",1,"add-files-btn",3,"click"],["slot","start","src","assets/icons/add.svg"],[1,"page-content"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"section",1)(2,"span",2),t._uU(3,"Music"),t.qZA(),t.TgZ(4,"fluent-tabs",3)(5,"fluent-tab",4),t.NdJ("click",function(){return a.onTabClick("songs")}),t._uU(6,"Songs"),t.qZA(),t.TgZ(7,"fluent-tab",5),t.NdJ("click",function(){return a.onTabClick("metadata/album")}),t._uU(8,"Albums"),t.qZA(),t.TgZ(9,"fluent-tab",6),t.NdJ("click",function(){return a.onTabClick("metadata/artist")}),t._uU(10,"Artists"),t.qZA(),t.TgZ(11,"fluent-tab",7),t.NdJ("click",function(){return a.onTabClick("metadata/folder")}),t._uU(12,"Folders"),t.qZA(),t.TgZ(13,"fluent-tab-panel",8),t._uU(14," folders. "),t.qZA(),t.TgZ(15,"fluent-tab-panel",9),t._uU(16," songs. "),t.qZA(),t.TgZ(17,"fluent-tab-panel",10),t._uU(18," albums. "),t.qZA(),t.TgZ(19,"fluent-tab-panel",11),t._uU(20," artists. "),t.qZA()(),t.TgZ(21,"fluent-button",12),t.NdJ("click",function(){return a.onAddFolderBtnClick()}),t._UZ(22,"img",13),t._uU(23," Add folder"),t.qZA(),t.TgZ(24,"fluent-button",14),t.NdJ("click",function(){return a.onAddFilesBtnClick()}),t._UZ(25,"img",15),t._uU(26," Add Files "),t.qZA()(),t.TgZ(27,"div",16),t._UZ(28,"router-outlet"),t.qZA()())},dependencies:[l.lC],styles:['section.music-toolbar[_ngcontent-%COMP%]{display:grid;grid-template:"title tabs . add-folder-btn add-files-btn" auto/auto auto 1fr auto auto;gap:10px;align-items:center}@media screen and (max-width: 768px){section.music-toolbar[_ngcontent-%COMP%]{grid-template:"title tabs" auto "add-folder-btn add-files-btn" auto/50% 50%}}section.music-toolbar[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{grid-area:title}section.music-toolbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{grid-area:tabs}@media screen and (max-width: 768px){section.music-toolbar[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{justify-self:end}}section.music-toolbar[_ngcontent-%COMP%]   fluent-button.add-folder-btn[_ngcontent-%COMP%]{grid-area:add-folder-btn}section.music-toolbar[_ngcontent-%COMP%]   fluent-button.add-files-btn[_ngcontent-%COMP%]{grid-area:add-files-btn}']})}return e})();var M=o(8645),C=o(9773),p=o(7018);const v=(e,c)=>c.value.uuid;function Z(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"li",7),t.NdJ("dblclick",function(){const i=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.onPlayBtnClick(i.value.uuid))}),t.TgZ(1,"div",8)(2,"fluent-button",9),t.NdJ("click",function(){const i=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.onPlayBtnClick(i.value.uuid))}),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"span",11),t._uU(5),t.qZA(),t.TgZ(6,"span",12),t._uU(7),t.qZA(),t.TgZ(8,"span",13),t._uU(9),t.qZA(),t.TgZ(10,"span",14),t._uU(11),t.qZA()()()}if(2&e){const n=c.$implicit;t.xp6(3),t.MGl("src","assets/icons/",n.value.playing?"pause":"play",".svg",t.LSH),t.xp6(2),t.Oqu(n.value&&n.value.title||n.value.fileName),t.xp6(2),t.hij(" ",n.value&&n.value.album," "),t.xp6(2),t.hij(" ",n.value&&n.value.artist," "),t.xp6(2),t.hij(" ",n.value&&n.value.genre," ")}}function x(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-no-data",15),t.NdJ("refreshList",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onRefreshList())}),t.qZA()}}let h=(()=>{class e{constructor(){this.musicSvc=(0,t.f3M)(u.J),this.#t=(0,t.f3M)(l.gz),this.ngUnsubscribe=new M.x}#t;ngOnInit(){this.#n()}#n(){this.#t.params.pipe((0,C.R)(this.ngUnsubscribe)).subscribe({next:n=>{this.#e(n)}})}#e(n){var s=this;return(0,d.Z)(function*(){n.filterBy&&n.filterName?s.musicSvc.setSongsList({filterType:n.filterBy,filterValue:n.filterName}):s.musicSvc.setSongsList()})()}onPlayBtnClick(n){this.musicSvc.play(n)}onRefreshList(){const n=this.#t.snapshot.params;this.#e(n)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#s=this.\u0275fac=function(s){return new(s||e)};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-songs"]],decls:21,vars:3,consts:[[1,"songs-page"],[1,"toolbar"],["type","button","appearance","accent"],["title","Shuffle and play songs","slot","start","src","assets/icons/shuffle_light.svg"],[1,"separator"],["appearance","stealth"],[1,"songs-list"],[1,"songs-list-item",3,"dblclick"],[1,"song-item"],["appearance","stealth","color","accent",1,"play-btn",3,"click"],["title","Play and pause button",3,"src"],[1,"title"],[1,"album"],[1,"artist"],[1,"genre"],["btn1Txt","","btn2Txt","",3,"refreshList"],["class","songs-list-item"]],template:function(s,a){1&s&&(t.TgZ(0,"section",0)(1,"section",1)(2,"fluent-button",2),t._UZ(3,"img",3),t._uU(4," Shuffle and play "),t.qZA(),t._uU(5," \xa0 "),t._UZ(6,"span",4),t.TgZ(7,"span"),t._uU(8,"Sort by : "),t.qZA(),t.TgZ(9,"fluent-select",5)(10,"fluent-option"),t._uU(11,"A - Z"),t.qZA(),t.TgZ(12,"fluent-option"),t._uU(13,"Artist"),t.qZA(),t.TgZ(14,"fluent-option"),t._uU(15,"Album"),t.qZA()()(),t.TgZ(16,"ul",6),t.SjG(17,Z,12,5,"li",16,v,!1,x,1,0),t.ALo(20,"keyvalue"),t.qZA()()),2&s&&t.wJu(17,t.lcZ(20,1,a.musicSvc.songs()))},dependencies:[p.d,g.Nd],styles:['section.songs-page[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]{list-style:none;list-style-type:none;margin:0;padding:0}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]{margin:5px 0;height:45px}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:solid 1px var(--neutral-layer-floating)}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{display:grid;grid-template:"play-btn title artist album genre" auto/70px 1fr 1fr 1fr 1fr;align-items:center;height:100%;font-size:smaller}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]{grid-area:play-btn;align-self:center;justify-self:center}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title;font-weight:500}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]{grid-area:album}@media screen and (max-width: 768px){section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .album[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:5px;height:5px;background-color:#000;margin:0 8px;border-radius:50%;position:relative;top:-6px}}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .artist[_ngcontent-%COMP%]{grid-area:artist}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{grid-area:genre}@media screen and (max-width: 768px){section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{display:none}}section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media screen and (max-width: 1200px){section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{grid-template:"play-btn title title title" auto "play-btn album artist genre" auto/70px 1fr 1fr 1fr}}@media screen and (max-width: 768px){section.songs-page[_ngcontent-%COMP%]   .songs-list[_ngcontent-%COMP%]   .songs-list-item[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{grid-template:"play-btn title title" auto "play-btn album artist" auto/70px auto auto;justify-content:start}}']})}return e})();var T=o(9360),P=o(8251),A=o(2420),k=o(4829),U=o(5805),F=o(1631),S=o(9397);const N=(e,c)=>c.key;function B(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"fluent-card")(1,"header",3),t._uU(2),t.qZA(),t.TgZ(3,"button",4),t.NdJ("click",function(){const i=t.CHM(n).$implicit,r=t.oxw(2);return t.KtG(r.onPlayBtnClick(i.value))}),t._UZ(4,"img",5),t.qZA()()}if(2&e){const n=c.$implicit;t.xp6(1),t.s9C("title",n.value.metaDataTitle),t.xp6(1),t.Oqu(n.value.metaDataTitle),t.xp6(2),t.s9C("src",n.value.albumArt,t.LSH)}}function J(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-no-data",6),t.NdJ("refreshList",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.onRefreshList())}),t.qZA()}}function L(e,c){1&e&&(t.TgZ(0,"section",2),t.SjG(1,B,5,3,"fluent-card",null,N,!1,J,1,0),t.ALo(4,"keyvalue"),t.qZA()),2&e&&t.wJu(1,t.lcZ(4,1,c))}let b=(()=>{class e{constructor(){this.#t=(0,t.f3M)(l.gz),this.#n=(0,t.f3M)(u.J),this.#e=(0,t.f3M)(l.F0),this.showNoData=!1,this.#s=new M.x,this.metaData$=this.#t.params.pipe(function w(e,c){return(0,T.e)((n,s)=>{const a=new Set;n.subscribe((0,P.x)(s,i=>{const r=e?e(i):i;a.has(r)||(a.add(r),s.next(i))})),c&&(0,k.Xf)(c).subscribe((0,P.x)(s,()=>a.clear(),A.Z))})}(n=>n),(0,U.U)(n=>n.filterBy),(0,F.z)(n=>this.#n.getMetaData(n)),(0,S.b)(n=>{this.showNoData=0==n.size}),(0,C.R)(this.#s))}#t;#n;#e;#s;ngOnInit(){}onPlayBtnClick(n){this.#e.navigate(["/music/songs",n.requestedKey,"folderName"===n.requestedKey?n.folderId:n.metaDataTitle])}ngOnDestroy(){this.#s.next(),this.#s.complete()}onRefreshList(){}static#a=this.\u0275fac=function(s){return new(s||e)};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-metadata"]],decls:3,vars:3,consts:[[1,"h-100"],["class","card-wrapper"],[1,"card-wrapper"],[3,"title"],["matRipple","","type","button",1,"card-img__btn",3,"click"],[3,"src"],["btn1Txt","","btn2Txt","",3,"refreshList"]],template:function(s,a){if(1&s&&(t.TgZ(0,"div",0),t.YNc(1,L,5,3,"section",1),t.ALo(2,"async"),t.qZA()),2&s){let i;t.xp6(1),t.um2(1,(i=t.lcZ(2,1,a.metaData$))?1:-1,i)}},dependencies:[p.d,g.Ov,g.Nd],styles:[".card-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,200px);grid-template-rows:250px repeat(auto-fill,250px);height:100%;gap:15px}@media all and (max-width: 768px){.card-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,50% 50%);box-sizing:border-box;padding:10px}}.card-wrapper[_ngcontent-%COMP%]   fluent-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:15px;padding:10px}.card-wrapper[_ngcontent-%COMP%]   fluent-card[_ngcontent-%COMP%]   button.card-img__btn[_ngcontent-%COMP%]{background:transparent;border:0 none;width:100%}.card-wrapper[_ngcontent-%COMP%]   fluent-card[_ngcontent-%COMP%]   button.card-img__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.card-wrapper[_ngcontent-%COMP%]   fluent-card[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;column-gap:10px;padding:10px}.card-wrapper[_ngcontent-%COMP%]   app-no-data[_ngcontent-%COMP%]{grid-row:1/-1;grid-column:1/-1}"]})}return e})();const H=[{path:"",component:y,children:[{path:"songs",component:h},{path:"songs/:filterBy/:filterName",component:h},{path:"metadata",component:b},{path:"metadata/:filterBy",component:b},{path:"",redirectTo:"songs",pathMatch:"full"},{path:"**",component:f.NotFoundPage}]}];let q=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(H),l.Bz]})}return e})(),j=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[g.ez,f.NotFoundPage,q,p.d]})}return e})()}}]);